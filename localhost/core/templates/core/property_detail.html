{% extends "core/base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static "core/css/components/header.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "core/css/components/footer.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "core/css/property.css" %}">
{% endblock %}

{% block body_wrapped %}
{% include "core/include/header.html" %}
<div class="container">
  <div class="row">
    <div id="property-imgs" class="row mb-2">
      <!-- Property pictures module -->
      <div class="col-md-8">
        <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="First slide">
      </div>
      <div class="col-md-4 pl-1">
        <div class="row pb-1">
          <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
        </div>
        <div class="row">
          <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Third slide">
        </div>
      </div>
    </div>
    <!-- <div class="row">
      <img class="d-block img-sm" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
      <img class="d-block img-sm" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
      <img class="d-block img-sm" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
      <img class="d-block img-sm" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
      <img class="d-block img-sm" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
    </div> -->
    <div id="property-carousel" class="carousel slide ttb" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="First slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Third slide">
        </div>
      </div>
      <a class="carousel-control-prev" href="#slideshow" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#slideshow" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <!-- Description and amneties -->
  <div class="d-flex" style="background-color: white;">
    <div class="card w-100">
      <div class="card-body d-flex">
        <div class="d-flex flex-column align-items-start col-md-10">
          <h3>{{ property.title }}</h3>
          <div class="d-flex flex-row align-items-center"> 
            <strong class="text-success">{{ property.address }}</strong>
          </div>
          <h5>Description</h5>
          <p>{{ property.description }}</p>
        </div>
        <div class="col-md-2 align-self-center">
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
            Map
          </button>
          <a href="#"><button type="button" class="btn btn-secondary">
            Message Owner
          </button></a>
        </div>
      </div>
    </div>
    <div class="align-self-center d-flex flex-column justify-content-between h-100">
      <!-- Button trigger modal -->
      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              Google Maps
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="w-100 my-2" style="border: 1px solid black;"></div>

  <!-- TTBs -->
  <div class="items">
    {% for item in property.property_item.all %}
    <div class="d-flex justify-content-between">
      <!-- Carousel -->
      <div id="slideshow" class="carousel slide ttb" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="First slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Third slide">
          </div>
        </div>
        <a class="carousel-control-prev" href="#slideshow" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#slideshow" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <!-- <img class="d-block" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide" style="width: calc(100%/5);"> -->

      <!-- Title, capacity, glyphs -->
      <div class="align-self-center px-2 w-100">
        <h4>{{ item.title }}</h4>
        Capacity: {{ item.capacity }}
        <span class="mx-2" style="border: 1px solid rgba(0, 0, 0, 0.125);"></span>
        Amenities: 
      </div>
      <!-- Price -->
      <div class="align-self-center px-2">
        $60.00
      </div>
      <!-- View button -->
      <div class="align-self-center px-2">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2">
            View
        </button>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog">
          <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h2 class="modal-title px-2" id="exampleModalLabel">{{ item.title }}</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <!-- Property details modules -->
                  <div class="col-lg-8">
                    <!-- Slideshow -->
                    <div class="flex-row">
                      <div id="ttb-carousel" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                          <div class="carousel-item active">
                            <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="First slide">
                          </div>
                          <div class="carousel-item">
                            <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Second slide">
                          </div>
                          <div class="carousel-item">
                            <img class="d-block w-100" src="https://a0.muscache.com/4ea/air/v2/pictures/fc8e5efc-16ab-4ac7-8d5e-6570645e9355.jpg" alt="Third slide">
                          </div>
                        </div>
                        <a class="carousel-control-prev" href="#ttb-carousel" role="button" data-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#ttb-carousel" role="button" data-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="sr-only">Next</span>
                        </a>
                      </div>
                    </div>

                    <!-- Description and amneties -->
                    <div class="flex-row">
                      <div class="card flex-md-row mb-4 h-md-250">
                        <div class="card-body d-flex flex-column align-items-start">
                          <h3>Description</h3>
                          <p>{{ item.description }}</p>
                        </div>
                      </div>
                    </div>

                    <!-- Reviews -->
                    <div class="flex-row">
                      <div class="card flex-md-row mb-4 h-md-250">
                        <div class="card-body d-flex flex-column align-items-start">
                          <h3>Reviews</h3>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Bidding module -->
                  <div class="col-lg-4 pl-2">
                    <div class="success-banner card flex-md-row">
                      <div class="card-body d-flex flex-column align-items-center">
                        <strong class="d-inline-block">Booking name</strong>
                        <button type="button" class="btn dropdown-toggle mb-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Registered Sessions
                        </button>
                        <div class="dropdown-menu">
                          <a class="dropdown-item" href="#">12PM - 6PM</a>
                          <a class="dropdown-item" href="#">6PM - 8PM</a>
                          <a class="dropdown-item" href="#">8PM - 10PM</a>
                        </div>
                      </div>
                    </div>
                    <!-- Registered Sessions -->
                    <div class="flex-row">
                      <div class="card flex-md-row h-md-250">
                        <div class="card-body d-flex flex-column align-items-center">
                          <strong class="d-inline-block mx-2 text-success text-uppercase">Auction Ends In</strong>
                          <strong id="countdown" class="d-inline-block mb-2 text-warning text-uppercase"></strong>
                          <h3>Current bid: $<span id="bid-current">60.00</span></h3>
                          <small class="small"><span id="highest-bidder">Jane</span> has the highest bid!</small>
                        </div>
                      </div>
                      <div class="card flex-md-row">
                        <div class="card-body d-flex flex-column align-items-center">
                          <strong class="d-inline-block">Place Bid</strong>
                          <div class="input-group mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text">$</span>
                            </div>
                            <input id="bid-amount" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
                            <div class="input-group-append">
                              <span class="input-group-text">.00</span>
                            </div>
                            <button id="bid-place" type="button" class="btn btn-success mb-0">Place</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

</div>
{% include "core/include/footer.html" %}
{% endblock %}
